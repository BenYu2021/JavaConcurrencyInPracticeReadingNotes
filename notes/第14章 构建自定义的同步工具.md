# 第14章 构建自定义的同步工具
## 14.1 状态依赖的管理
### 14.1.1 示例：将前提条件的失败传递给调用者
* 访问缓存时使用“先检查再运行”的逻辑策略。

程序清单14-3 当不满足条件时，有界缓存不会执行相应操作  
[GrumpyBoundedBuffer.java](../src/main/java/ch14/GrumpyBoundedBuffer.java)  

### 14.1.2 实例：通过轮询与休眠来实现简单的阻塞
* 如果缓存为空，那么take将休眠并直到另一个线程的在缓存中放入一些数据；  
    如果缓存已满，那么put将休眠并直到另一个线程从缓存中移除一些数据。
    
程序清单14-5 使用简单阻塞实现有界缓存  
[SleepyBoundedBuffer.java](../src/main/java/ch14/SleepyBoundedBuffer.java)  

### 14.1.3 条件队列

程序清单14-6 使用条件队列实现有界缓存  
[BoundedBuffer.java](../src/main/java/ch14/BoundedBuffer.java)  
